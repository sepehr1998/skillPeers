(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ff3f8d7"],{"9a26":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"main-view-container "},[a("base-header",{staticClass:"header pb-8 pt-5 pt-lg-1 d-flex align-items-center",staticStyle:{"min-height":"100px","background-size":"cover","background-position":"center top"}},[a("span",{staticClass:"mask bg-gradient-primary opacity-8"})]),a("div",{staticClass:"container-fluid"},[a("el-tabs",{staticClass:"m-1",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(s){e.activeName=s},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Inbox",name:"first"}},[e.recievedMessages.length||e.pageLoading?e._e():a("div",{staticClass:"empty-inbox pt-2 pb-2 d-flex justify-content-center"},[a("div",{staticClass:"empty-inbox_content d-flex justify-content-center"},[a("div",[a("img",{staticClass:"empty-inbox_image",attrs:{src:t("e289"),alt:"emptyInbox",width:"50%"}}),a("h3",{staticClass:"text-center mt-2"},[e._v("Nothing in Inbox")]),a("h6",{staticClass:"text-center"},[e._v("You do not have any messages in the inbox")])])])]),e.recievedMessages.length?a("div",[e.showRecievedMessageDetails?a("div",{staticClass:" m-4 p-2 bg-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"avatar",on:{click:function(s){return e.go2UserProfile(e.selectedMessage.sender.id)}}},[e._v(" "+e._s(e.getAvatar(e.selectedMessage.sender.firstName))+" ")]),a("span",{staticClass:"detail-sender ml-1 mt-auto mb-auto"},[e._v(" "+e._s(e.selectedMessage.sender.firstName)+" "+e._s(e.selectedMessage.sender.lastName)+" ")])]),a("p",{staticClass:"row detail-title"},[e._v(e._s(e.selectedMessage.message))]),a("p",{staticClass:"row detail-date"},[e._v(e._s(e.getDate(e.selectedMessage.created)))]),a("div",{staticClass:"text-center row pb-0"},[a("base-button",{staticClass:" float-left modal-btn",attrs:{type:"primary"},on:{click:e.reply}},[e._v(" Reply ")]),a("base-button",{staticClass:"float-right modal-btn",attrs:{type:"primary"},on:{click:e.backToList}},[e._v(" Back ")])],1)]):e._e(),e.showRecievedMessageDetails?e._e():a("div",{staticClass:"row"},[a("ul",{attrs:{id:"messages-list"}},e._l(e.recievedMessages,(function(s){return a("div",{key:s.id},[a("li",{staticClass:"selected",class:{"unreed-message":!s.read}},[a("div",{staticClass:"left-col"},[a("div",{staticClass:"row"},[a("div",{staticClass:"avatar",on:{click:function(t){return e.go2UserProfile(s.sender.id)}}},[e._v(" "+e._s(e.getAvatar(s.sender.firstName))+" ")]),a("span",{staticClass:"sender mt-auto mb-auto"},[e._v(" "+e._s(s.sender.firstName)+" "+e._s(s.sender.lastName)+" ")])])]),a("div",{staticClass:"right-col"},[a("div",{staticClass:"row mb-1"},[a("h4",{staticClass:"text-left bread-text-preview"},[e._v(e._s(s.message))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"recieved col col-md-6 col-sm-6 col-xs-12 mb-0",staticStyle:{float:"left"}},[e._v(" "+e._s(e.getDate(s.created))+" ")]),a("div",{staticClass:"recieved col col-md-6 col-sm-6 col-xs-12 mb-0 show-details",on:{click:function(t){return e.showDetails(s,!0)}}},[e._v(" Show Details ")])])])])])})),0)])]):e._e()]),a("el-tab-pane",{attrs:{label:"Sent",name:"second"}},[e.sentMessages.length||e.pageLoading?e._e():a("div",{staticClass:"empty-inbox pt-2 pb-2 d-flex justify-content-center"},[a("div",{staticClass:"empty-inbox_content d-flex justify-content-center"},[a("div",[a("img",{staticClass:"empty-inbox_image",attrs:{src:t("e289"),alt:"emptyInbox",width:"50%"}}),a("h3",{staticClass:"text-center mt-2"},[e._v("No Sent Message Found")]),a("h6",{staticClass:"text-center"},[e._v("You do not have any messages in the outbox")])])])]),e.sentMessages.length?a("div",[e.showSendMessageDetails?a("div",{staticClass:" m-4 p-2 bg-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"avatar",on:{click:function(s){return e.go2UserProfile(e.selectedMessage.receiver.id)}}},[e._v(" "+e._s(e.getAvatar(e.selectedMessage.receiver.firstName))+" ")]),a("span",{staticClass:"detail-sender ml-1 mt-auto mb-auto"},[e._v(" "+e._s(e.selectedMessage.receiver.firstName)+" "+e._s(e.selectedMessage.receiver.lastName)+" ")])]),a("p",{staticClass:"row detail-title"},[e._v(e._s(e.selectedMessage.message))]),a("p",{staticClass:"row detail-date"},[e._v(" "+e._s(e.getDate(e.selectedMessage.created))+" "),a("span",{staticClass:"ml-1",class:{"deliver-blue":e.selectedMessage.read}},[a("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"text-center row pb-0"},[a("base-button",{staticClass:"float-right modal-btn",attrs:{type:"primary"},on:{click:e.backToList}},[e._v(" Back ")])],1)]):e._e(),e.showSendMessageDetails?e._e():a("div",{staticClass:"row"},[a("ul",{attrs:{id:"emails-list"}},e._l(e.sentMessages,(function(s){return a("div",{key:s.id},[a("li",{staticClass:"selected"},[a("div",{staticClass:"left-col"},[a("div",{staticClass:"row"},[a("div",{staticClass:"avatar",on:{click:function(t){return e.go2UserProfile(s.receiver.id)}}},[e._v(" "+e._s(e.getAvatar(s.receiver.firstName))+" ")]),a("span",{staticClass:"sender mt-auto mb-auto"},[e._v(" "+e._s(s.receiver.firstName)+" "+e._s(s.receiver.lastName)+" ")])])]),a("div",{staticClass:"right-col"},[a("div",{staticClass:"row mb-1"},[a("h4",{staticClass:"text-left bread-text-preview"},[e._v(e._s(s.message))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"recieved col col-md-6 col-sm-6 col-xs-12 mb-0",staticStyle:{float:"left"}},[e._v(" "+e._s(e.getDate(s.created))+" "),a("span",{staticClass:"ml-1",class:{"deliver-blue":s.read}},[a("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"recieved col col-md-6 col-sm-6 col-xs-12 mb-0 show-details",on:{click:function(t){return e.showDetails(s,!1)}}},[e._v(" Show Details ")])])])])])})),0)])]):e._e()])],1)],1),a("send-message-modal",{attrs:{receiverId:e.receiverUserId,senderId:e.$store.getters.user.id}})],1)},i=[],c=t("6bc9"),l={name:"Messages",components:{SendMessageModal:c["a"]},data:function(){return{showConstructionModal:!1,recievedMessages:[],sentMessages:[],selectedMessage:{},showRecievedMessageDetails:!1,showSendMessageDetails:!1,receiverUserId:{},pageLoading:!0,activeName:"first"}},watch:{},methods:{showMessage:function(e){console.log(e)},getDate:function(e){var s=new Date(e),t=s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear()+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds();return t},go2UserProfile:function(e){this.$router.push({name:"userprofile",params:{userId:e}})},getAvatar:function(e){return e.charAt(0).toUpperCase()},showDetails:function(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selectedMessage=e,s?(this.showRecievedMessageDetails=!0,this.showSendMessageDetails=!1,e.read=!0,this.$store.dispatch("message/getMessageByID",e.id).then((function(e){console.log("retrive message by id: ",e)})).catch((function(e){console.warn("Failed Loading user profile",e)}))):(this.showSendMessageDetails=!0,this.showRecievedMessageDetails=!1)},backToList:function(){this.selectedMessage=void 0,this.showRecievedMessageDetails=!1,this.showSendMessageDetails=!1},reply:function(){this.receiverUserId=this.selectedMessage.sender.id,this.$store.dispatch("sendMessageModal/showModal")},handleClick:function(e,s){console.log(e,s)}},mounted:function(){var e=this,s={};s.receiverId=this.$store.getters.user.id,s.page=1,s.size=300;var t={};t.senderId=this.$store.getters.user.id,t.page=1,t.size=300,this.$store.dispatch("message/getMessages",s).then((function(s){console.log("recieved Messages",s),e.recievedMessages=s,e.pageLoading=!1})).catch((function(s){console.warn("failed to get recieved Messages",s),e.pageLoading=!1})),this.$store.dispatch("message/getMessages",t).then((function(s){console.log("sent Messages",s),e.sentMessages=s,e.pageLoading=!1})).catch((function(s){console.warn("failed to get sent Messages",s),e.pageLoading=!1}))}},n=l,r=(t("d9bc"),t("2877")),o=Object(r["a"])(n,a,i,!1,null,"4335354e",null);s["default"]=o.exports},aedc:function(e,s,t){},d9bc:function(e,s,t){"use strict";var a=t("aedc"),i=t.n(a);i.a},e289:function(e,s,t){e.exports=t.p+"img/emptyInbox1.53c7cf98.png"}}]);
//# sourceMappingURL=chunk-3ff3f8d7.27a8ebac.js.map