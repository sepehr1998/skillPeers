(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18c8bbba"],{2156:function(s,e,r){"use strict";r.r(e);var t=function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",{staticClass:"main-view-container"},[r("base-header",{staticClass:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",staticStyle:{"min-height":"100px","background-size":"cover","background-position":"center top"}},[r("span",{staticClass:"mask bg-gradient-primary opacity-8"})]),r("div",{staticClass:"container-fluid mt--7 mb-7"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col"}),r("div",{staticClass:"col"},[r("div",{staticClass:"card"},[s._m(0),r("div",{staticClass:"card-body"},[r("div",{staticClass:"form-group has-label"},[s._m(1),r("div",{staticClass:"input-group input-group-alternative form-control-alternative"},["checkbox"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.currentPassword,expression:"currentPassword"}],ref:"current-password",staticClass:"form-control",attrs:{placeholder:"Current Password",type:"checkbox"},domProps:{checked:Array.isArray(s.currentPassword)?s._i(s.currentPassword,null)>-1:s.currentPassword},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},change:function(e){var r=s.currentPassword,t=e.target,o=!!t.checked;if(Array.isArray(r)){var a=null,n=s._i(r,a);t.checked?n<0&&(s.currentPassword=r.concat([a])):n>-1&&(s.currentPassword=r.slice(0,n).concat(r.slice(n+1)))}else s.currentPassword=o}}}):"radio"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.currentPassword,expression:"currentPassword"}],ref:"current-password",staticClass:"form-control",attrs:{placeholder:"Current Password",type:"radio"},domProps:{checked:s._q(s.currentPassword,null)},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},change:function(e){s.currentPassword=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:s.currentPassword,expression:"currentPassword"}],ref:"current-password",staticClass:"form-control",attrs:{placeholder:"Current Password",type:s.showPassword?"text":"password"},domProps:{value:s.currentPassword},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},input:function(e){e.target.composing||(s.currentPassword=e.target.value)}}}),r("div",{staticClass:"pass-toggler input-group-append",on:{click:function(e){return s.togglePasswordShow("current-password")}}},[r("span",{staticClass:"input-group-text"},[r("i",{class:s.passTogglerIcon})])])])]),r("div",{staticClass:"form-group has-label"},[s._m(2),r("div",{staticClass:"input-group input-group-alternative form-control-alternative"},["checkbox"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.newPassword,expression:"newPassword"}],ref:"new-password",staticClass:"form-control",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(s.newPassword)?s._i(s.newPassword,null)>-1:s.newPassword},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},change:function(e){var r=s.newPassword,t=e.target,o=!!t.checked;if(Array.isArray(r)){var a=null,n=s._i(r,a);t.checked?n<0&&(s.newPassword=r.concat([a])):n>-1&&(s.newPassword=r.slice(0,n).concat(r.slice(n+1)))}else s.newPassword=o}}}):"radio"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.newPassword,expression:"newPassword"}],ref:"new-password",staticClass:"form-control",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:s._q(s.newPassword,null)},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},change:function(e){s.newPassword=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:s.newPassword,expression:"newPassword"}],ref:"new-password",staticClass:"form-control",attrs:{placeholder:"New Password",type:s.showPassword?"text":"password"},domProps:{value:s.newPassword},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},input:function(e){e.target.composing||(s.newPassword=e.target.value)}}}),r("div",{staticClass:"pass-toggler input-group-append",on:{click:function(e){return s.togglePasswordShow("new-password")}}},[r("span",{staticClass:"input-group-text"},[r("i",{class:s.passTogglerIcon})])])]),r("small",{class:s.strengthColor},[s._v(s._s(s.passStrength))])]),r("div",{staticClass:"form-group has-label"},[s._m(3),r("div",{staticClass:"input-group input-group-alternative form-control-alternative"},["checkbox"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.confirmPassword,expression:"confirmPassword"}],ref:"confirm-password",staticClass:"form-control",attrs:{placeholder:"Confirm Your new password",type:"checkbox"},domProps:{checked:Array.isArray(s.confirmPassword)?s._i(s.confirmPassword,null)>-1:s.confirmPassword},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},change:function(e){var r=s.confirmPassword,t=e.target,o=!!t.checked;if(Array.isArray(r)){var a=null,n=s._i(r,a);t.checked?n<0&&(s.confirmPassword=r.concat([a])):n>-1&&(s.confirmPassword=r.slice(0,n).concat(r.slice(n+1)))}else s.confirmPassword=o}}}):"radio"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.confirmPassword,expression:"confirmPassword"}],ref:"confirm-password",staticClass:"form-control",attrs:{placeholder:"Confirm Your new password",type:"radio"},domProps:{checked:s._q(s.confirmPassword,null)},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},change:function(e){s.confirmPassword=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:s.confirmPassword,expression:"confirmPassword"}],ref:"confirm-password",staticClass:"form-control",attrs:{placeholder:"Confirm Your new password",type:s.showPassword?"text":"password"},domProps:{value:s.confirmPassword},on:{focus:s.inputFocused,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.enterClicked(e)},input:function(e){e.target.composing||(s.confirmPassword=e.target.value)}}}),r("div",{staticClass:"pass-toggler input-group-append",on:{click:function(e){return s.togglePasswordShow("confirm-password")}}},[r("span",{staticClass:"input-group-text"},[r("i",{class:s.passTogglerIcon})])])])]),r("div",{staticClass:"form-group"},[r("base-button",{attrs:{type:"success",disabled:s.saving},on:{click:function(e){return s.changePassword()}}},[s.saving?r("i",{staticClass:"fas fa-circle-notch fa-spin m-auto"}):s._e(),s._v(" Save ")])],1),s.showMessage?r("div",[r("el-alert",{attrs:{title:s.message,type:s.messageType,"show-icon":""},on:{close:function(e){return s.closeError()}}})],1):s._e()])])]),r("div",{staticClass:"col"})])])],1)},o=[function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",{staticClass:"card-header"},[r("h5",{staticClass:"h3 mb-0"},[s._v("Change Password")])])},function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("label",{staticClass:"form-control-label"},[s._v(" Current Password "),r("span",[s._v("*")])])},function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("label",{staticClass:"form-control-label"},[s._v(" New Password "),r("span",[s._v("*")])])},function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("label",{staticClass:"form-control-label"},[s._v(" Confirm New Password "),r("span",[s._v("*")])])}],a=(r("498a"),r("8d48")),n={name:"ChangePassword",data:function(){return{currentPassword:"",newPassword:"",confirmPassword:"",showPassword:!1,message:"",showMessage:!1,messageType:"",saving:!1,strengthColor:"",passStrength:""}},methods:{enterClicked:function(){this.changePassword()},closeError:function(){this.showMessage=!1,console.log("Close error message")},togglePasswordShow:function(s){var e=this;this.showPassword=!this.showPassword,this.$nextTick((function(){var r=e.$refs[s];r&&r.focus()}))},inputFocused:function(){this.message="",this.showMessage=!1},changePassword:function(){var s=this;this.validateForm()&&(this.saving=!0,this.$store.dispatch("user/changePassword",{currentPassword:this.currentPassword,newPassword:this.newPassword,newPasswordConfirm:this.confirmPassword}).then((function(){s.saving=!1,s.message="Successfully changed.",s.messageType="success",s.showMessage=!0})).catch((function(e){console.warn("Failed changing password: ",e),void 0!=e.error?s.message=e.error:s.message=e.errorMessage,s.messageType="error",s.showMessage=!0,s.saving=!1})))},validateForm:function(){return!this.currentPassword||this.currentPassword.length<=0?(this.message="Password is empty",this.showMessage=!0,this.messageType="error",!1):!this.newPassword||this.newPassword.length<=0?(this.message="New Password is empty",this.showMessage=!0,this.messageType="error",!1):"Weak"==this.passStrength?(this.messageType="error",this.message=Object(a["b"])(this.newPassword),void(this.showMessage=!0)):this.newPassword==this.confirmPassword||(this.message="Confirmed password not match!",this.showMessage=!0,this.messageType="error",!1)}},computed:{passTogglerIcon:function(){return this.showPassword?" fa fas fa-eye-slash":" fa fas fa-eye"}},watch:{newPassword:function(s){if(!s||s.trim().length<=0)return this.passStrength="",void(this.strengthColor="");var e=Object(a["a"])(this.newPassword.trim());"not-bad"==e?(this.strengthColor="warning",this.passStrength="Medium"):"good"==e?(this.strengthColor="success",this.passStrength="Good"):(this.strengthColor="danger",this.passStrength="Weak")}}},i=n,c=(r("5b2a"),r("2877")),d=Object(c["a"])(i,t,o,!1,null,"d0f79180",null);e["default"]=d.exports},"5b2a":function(s,e,r){"use strict";var t=r("fafa"),o=r.n(t);o.a},fafa:function(s,e,r){}}]);
//# sourceMappingURL=chunk-18c8bbba.546fc518.js.map